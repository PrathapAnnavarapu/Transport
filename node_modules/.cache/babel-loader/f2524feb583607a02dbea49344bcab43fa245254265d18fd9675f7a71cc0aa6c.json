{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\annavarapu.7\\\\Transport-frontend\\\\src\\\\Components\\\\WeekRangePicker.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport 'react-datepicker/dist/react-datepicker.css';\n\n// Helper function to format the date in dd-mm-yyyy format\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formatDate = date => {\n  const dd = date.getDate().toString().padStart(2, '0'); // Day with leading zero if needed\n  const mm = (date.getMonth() + 1).toString().padStart(2, '0'); // Month is 0-based, so add 1 and pad with zero\n  const yyyy = date.getFullYear(); // Get the full year\n  return `${dd}-${mm}-${yyyy}`; // Return the formatted date in dd-mm-yyyy format\n};\n\n// Function to generate week ranges starting from the given date\nconst generateWeekRanges = (startDate, numberOfWeeks) => {\n  const weekRanges = [];\n\n  // Adjust the start date to the most recent Monday\n  const startDay = startDate.getDay();\n  const daysToSubtract = startDay === 0 ? 6 : startDay - 1; // If Sunday (0), subtract 6, otherwise adjust to Monday\n  const mondayStartDate = new Date(startDate);\n  mondayStartDate.setDate(startDate.getDate() - daysToSubtract); // Set the date to the most recent Monday\n\n  // Generate the week ranges\n  for (let i = 0; i < numberOfWeeks; i++) {\n    const start = new Date(mondayStartDate);\n    start.setDate(mondayStartDate.getDate() + i * 7); // Each subsequent week starts exactly 7 days after the previous one\n    const end = new Date(start);\n    end.setDate(end.getDate() + 6); // End is 6 days after the start (7-day week)\n\n    // Store the start and end of each 7-day range in dd-mm-yyyy format\n    weekRanges.push({\n      start: formatDate(start),\n      end: formatDate(end)\n    });\n  }\n  return weekRanges;\n};\nconst WeekRangePicker = ({\n  numberOfWeeks = 7,\n  onWeekSelect\n}) => {\n  _s();\n  const [startDate, setStartDate] = useState(new Date()); // Default start date is today\n  const [weekRanges, setWeekRanges] = useState([]); // Holds the generated weeks\n  const [selectedWeek, setSelectedWeek] = useState(''); // Selected week range state\n\n  // Generate week ranges when component mounts or when startDate or numberOfWeeks changes\n  useEffect(() => {\n    const ranges = generateWeekRanges(startDate, numberOfWeeks);\n    setWeekRanges(ranges);\n\n    // Set the default selected week if it's the first render\n    if (!selectedWeek && ranges.length > 0) {\n      const currentWeek = ranges[0]; // Default to the first week\n      const weekRange = `${currentWeek.start} - ${currentWeek.end}`;\n      setSelectedWeek(weekRange);\n      onWeekSelect(weekRange); // Call the parent function with the first week's range\n    }\n  }, [startDate, numberOfWeeks]); // Removed selectedWeek from dependencies\n\n  const handleWeekChange = event => {\n    const selectedRange = event.target.value;\n    setSelectedWeek(selectedRange); // Update the selected week\n    onWeekSelect(selectedRange); // Notify the parent component with the new selected week\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"week-range-picker\",\n    children: /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: handleWeekChange,\n      value: selectedWeek,\n      children: weekRanges.map(range => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: `${range.start} - ${range.end}`,\n        children: [range.start, \" - \", range.end]\n      }, range.start, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(WeekRangePicker, \"EqRc/JKZZS6WJu9FHOOs17cgU0w=\");\n_c = WeekRangePicker;\nexport default WeekRangePicker;\nvar _c;\n$RefreshReg$(_c, \"WeekRangePicker\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","formatDate","date","dd","getDate","toString","padStart","mm","getMonth","yyyy","getFullYear","generateWeekRanges","startDate","numberOfWeeks","weekRanges","startDay","getDay","daysToSubtract","mondayStartDate","Date","setDate","i","start","end","push","WeekRangePicker","onWeekSelect","_s","setStartDate","setWeekRanges","selectedWeek","setSelectedWeek","ranges","length","currentWeek","weekRange","handleWeekChange","event","selectedRange","target","value","className","children","onChange","map","range","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/annavarapu.7/Transport-frontend/src/Components/WeekRangePicker.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\n\r\n// Helper function to format the date in dd-mm-yyyy format\r\nconst formatDate = (date) => {\r\n  const dd = date.getDate().toString().padStart(2, '0'); // Day with leading zero if needed\r\n  const mm = (date.getMonth() + 1).toString().padStart(2, '0'); // Month is 0-based, so add 1 and pad with zero\r\n  const yyyy = date.getFullYear(); // Get the full year\r\n  return `${dd}-${mm}-${yyyy}`; // Return the formatted date in dd-mm-yyyy format\r\n};\r\n\r\n// Function to generate week ranges starting from the given date\r\nconst generateWeekRanges = (startDate, numberOfWeeks) => {\r\n  const weekRanges = [];\r\n\r\n  // Adjust the start date to the most recent Monday\r\n  const startDay = startDate.getDay();\r\n  const daysToSubtract = startDay === 0 ? 6 : startDay - 1; // If Sunday (0), subtract 6, otherwise adjust to Monday\r\n  const mondayStartDate = new Date(startDate);\r\n  mondayStartDate.setDate(startDate.getDate() - daysToSubtract); // Set the date to the most recent Monday\r\n\r\n  // Generate the week ranges\r\n  for (let i = 0; i < numberOfWeeks; i++) {\r\n    const start = new Date(mondayStartDate);\r\n    start.setDate(mondayStartDate.getDate() + i * 7); // Each subsequent week starts exactly 7 days after the previous one\r\n    const end = new Date(start);\r\n    end.setDate(end.getDate() + 6); // End is 6 days after the start (7-day week)\r\n\r\n    // Store the start and end of each 7-day range in dd-mm-yyyy format\r\n    weekRanges.push({\r\n      start: formatDate(start),\r\n      end: formatDate(end),\r\n    });\r\n  }\r\n\r\n  return weekRanges;\r\n};\r\n\r\nconst WeekRangePicker = ({ numberOfWeeks = 7, onWeekSelect }) => {\r\n  const [startDate, setStartDate] = useState(new Date());  // Default start date is today\r\n  const [weekRanges, setWeekRanges] = useState([]);       // Holds the generated weeks\r\n  const [selectedWeek, setSelectedWeek] = useState('');    // Selected week range state\r\n\r\n  // Generate week ranges when component mounts or when startDate or numberOfWeeks changes\r\n  useEffect(() => {\r\n    const ranges = generateWeekRanges(startDate, numberOfWeeks);\r\n    setWeekRanges(ranges);\r\n\r\n    // Set the default selected week if it's the first render\r\n    if (!selectedWeek && ranges.length > 0) {\r\n      const currentWeek = ranges[0]; // Default to the first week\r\n      const weekRange = `${currentWeek.start} - ${currentWeek.end}`;\r\n      setSelectedWeek(weekRange);\r\n      onWeekSelect(weekRange); // Call the parent function with the first week's range\r\n    }\r\n  }, [startDate, numberOfWeeks]);  // Removed selectedWeek from dependencies\r\n\r\n  const handleWeekChange = (event) => {\r\n    const selectedRange = event.target.value;\r\n    setSelectedWeek(selectedRange);  // Update the selected week\r\n    onWeekSelect(selectedRange);     // Notify the parent component with the new selected week\r\n  };\r\n\r\n  return (\r\n    <div className='week-range-picker'>\r\n      {/* Week range selector dropdown */}\r\n      <select onChange={handleWeekChange} value={selectedWeek}>\r\n        {weekRanges.map((range) => (\r\n          <option key={range.start} value={`${range.start} - ${range.end}`}>\r\n            {range.start} - {range.end}\r\n          </option>\r\n        ))}\r\n      </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeekRangePicker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}